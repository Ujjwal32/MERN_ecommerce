{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  status: '',\n  user: []\n};\nexport const userLoggedIn = createAsyncThunk('user/loggedin', async details => {\n  const user = axios.post('/user/login', details).then(res => {\n    sessionStorage.setItem('user-e-commerce', JSON.stringify(res.data));\n    return res.data;\n  }).catch(err => {\n    console.log(err);\n  });\n  console.log(user);\n  return user;\n});\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducer: {},\n  extraReducers: {\n    [userLoggedIn.pending]: (state, action) => {\n      state.status = 'Loading';\n    },\n    [userLoggedIn.fulfilled]: (state, action) => {\n      state.status = 'Success';\n      state.user = state.user.concat(action.payload);\n      window.location.href = '/user/profile';\n    },\n    [userLoggedIn.rejected]: (state, action) => {\n      state.status = 'rejected';\n    }\n  }\n});\nexport default userSlice.reducer;","map":{"version":3,"sources":["E:/Study Material/Projects/Fullstack/e-commerce/client/src/features/userSlice.js"],"names":["createSlice","createAsyncThunk","axios","initialState","status","user","userLoggedIn","details","post","then","res","sessionStorage","setItem","JSON","stringify","data","catch","err","console","log","userSlice","name","reducer","extraReducers","pending","state","action","fulfilled","concat","payload","window","location","href","rejected"],"mappings":"AAAA,SAASA,WAAT,EAAqBC,gBAArB,QAA6C,kBAA7C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,MAAM,EAAE,EADS;AAEjBC,EAAAA,IAAI,EAAE;AAFW,CAArB;AAKA,OAAO,MAAMC,YAAY,GAAGL,gBAAgB,CAAC,eAAD,EAAkB,MAAOM,OAAP,IAAkB;AAC5E,QAAMF,IAAI,GAAGH,KAAK,CAACM,IAAN,CAAW,aAAX,EAA0BD,OAA1B,EAAmCE,IAAnC,CAAwCC,GAAG,IAAI;AAExDC,IAAAA,cAAc,CAACC,OAAf,CAAuB,iBAAvB,EAAyCC,IAAI,CAACC,SAAL,CAAeJ,GAAG,CAACK,IAAnB,CAAzC;AACA,WAAOL,GAAG,CAACK,IAAX;AAED,GALU,EAKRC,KALQ,CAKFC,GAAG,IAAI;AACdC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,GAPU,CAAb;AAQEC,EAAAA,OAAO,CAACC,GAAR,CAAYd,IAAZ;AACA,SAAOA,IAAP;AACL,CAX2C,CAArC;AAaP,MAAMe,SAAS,GAAGpB,WAAW,CAAC;AAC1BqB,EAAAA,IAAI,EAAE,MADoB;AAE1BlB,EAAAA,YAF0B;AAG1BmB,EAAAA,OAAO,EAAE,EAHiB;AAM1BC,EAAAA,aAAa,EAAE;AACX,KAACjB,YAAY,CAACkB,OAAd,GAAwB,CAACC,KAAD,EAAOC,MAAP,KAAkB;AACtCD,MAAAA,KAAK,CAACrB,MAAN,GAAe,SAAf;AACH,KAHU;AAIX,KAACE,YAAY,CAACqB,SAAd,GAA0B,CAACF,KAAD,EAAOC,MAAP,KAAkB;AACxCD,MAAAA,KAAK,CAACrB,MAAN,GAAe,SAAf;AACAqB,MAAAA,KAAK,CAACpB,IAAN,GAAaoB,KAAK,CAACpB,IAAN,CAAWuB,MAAX,CAAkBF,MAAM,CAACG,OAAzB,CAAb;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,eAAvB;AACH,KARU;AASX,KAAC1B,YAAY,CAAC2B,QAAd,GAAyB,CAACR,KAAD,EAAOC,MAAP,KAAkB;AACvCD,MAAAA,KAAK,CAACrB,MAAN,GAAe,UAAf;AACH;AAXU;AANW,CAAD,CAA7B;AAqBA,eAAegB,SAAS,CAACE,OAAzB","sourcesContent":["import { createSlice,createAsyncThunk } from '@reduxjs/toolkit'\r\nimport axios from 'axios'\r\n\r\nconst initialState = {\r\n    status: '',\r\n    user: []\r\n}\r\n\r\nexport const userLoggedIn = createAsyncThunk('user/loggedin', async (details)=> {\r\n    const user = axios.post('/user/login', details).then(res => {\r\n\r\n        sessionStorage.setItem('user-e-commerce',JSON.stringify(res.data));\r\n        return res.data;\r\n\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n      console.log(user)\r\n      return user\r\n})\r\n\r\nconst userSlice = createSlice({\r\n    name: 'user',\r\n    initialState,\r\n    reducer: {\r\n\r\n    },\r\n    extraReducers: {\r\n        [userLoggedIn.pending]: (state,action) => {\r\n            state.status = 'Loading'\r\n        },\r\n        [userLoggedIn.fulfilled]: (state,action) => {\r\n            state.status = 'Success';\r\n            state.user = state.user.concat(action.payload)\r\n            window.location.href = '/user/profile'\r\n        },\r\n        [userLoggedIn.rejected]: (state,action) => {\r\n            state.status = 'rejected'\r\n        }\r\n    }\r\n})\r\n\r\nexport default userSlice.reducer"]},"metadata":{},"sourceType":"module"}