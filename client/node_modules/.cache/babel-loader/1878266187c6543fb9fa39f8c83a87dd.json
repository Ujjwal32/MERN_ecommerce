{"ast":null,"code":"var _jsxFileName = \"E:\\\\Study Material\\\\Projects\\\\Fullstack\\\\e-commerce\\\\client\\\\src\\\\pages\\\\SearchedProducts.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router';\nimport Navigation from '../components/Navigation';\nimport axios from 'axios';\nimport { addedTocart } from '../features/cartSlice';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { Button, Card, CardActionArea, CardActions, CardContent, CardMedia, Typography } from '@material-ui/core';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction useQuery() {\n  _s();\n\n  return new URLSearchParams(useLocation().search);\n}\n\n_s(useQuery, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    width: '90%',\n    marginTop: '20px',\n    margin: '0 auto'\n  },\n  productTitle: {\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'space-between'\n  },\n  card: {\n    boxShadow: 'none'\n  }\n}));\n\nfunction SearchedProducts(props) {\n  _s2();\n\n  const [products, setProducts] = useState([]);\n  const dispatch = useDispatch();\n  const query = useQuery();\n  const search = query.get('query');\n\n  const fetchFunction = async url => {\n    const res = await axios.get(url).then(res => {\n      return res.data.result;\n    }).catch(err => {\n      console.log(err);\n    });\n    setProducts(res);\n  };\n\n  useEffect(() => {\n    fetchFunction(`/products/search?query=${search}`);\n  }, [search]);\n  const classes = useStyles();\n\n  const handleCart = e => {\n    let element = '';\n\n    if (e.target.classList.contains('MuiButton-label')) {\n      element = e.target.parentElement.parentElement;\n    } else {\n      element = e.target.parentElement;\n    }\n\n    const id = element.getAttribute('id');\n    const productToCart = products.filter(single => single._id === id)[0];\n    dispatch(addedTocart(productToCart));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        noWrap: true,\n        gutterBottom: true,\n        children: [\"Products for \", search]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: products && products.map(singleProduct => {\n          return /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            lg: 3,\n            md: 4,\n            xs: 6,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              className: classes.card,\n              children: [/*#__PURE__*/_jsxDEV(Link, {\n                to: `/products/${singleProduct.slug}`,\n                style: {\n                  textDecoration: 'none'\n                },\n                children: /*#__PURE__*/_jsxDEV(CardActionArea, {\n                  children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n                    component: \"img\",\n                    alt: singleProduct.name,\n                    height: \"50%\",\n                    image: singleProduct.image,\n                    title: singleProduct.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 76,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n                    children: [/*#__PURE__*/_jsxDEV(Typography, {\n                      gutterBottom: true,\n                      variant: \"h5\",\n                      component: \"h2\",\n                      children: singleProduct.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 84,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                      variant: \"body2\",\n                      color: \"textSecondary\",\n                      component: \"p\",\n                      children: singleProduct.descriptions\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: classes.productTitle,\n                  id: singleProduct._id,\n                  children: [/*#__PURE__*/_jsxDEV(Typography, {\n                    gutterBottom: true,\n                    variant: \"h6\",\n                    component: \"span\",\n                    children: [\"Rs. \", singleProduct.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    size: \"small\",\n                    color: \"primary\",\n                    onClick: handleCart,\n                    children: \"Add to Cart\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this)\n          }, singleProduct._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 36\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(SearchedProducts, \"7uWepbGcQQrt8ZWvbRSuEXh1Cog=\", false, function () {\n  return [useDispatch, useQuery, useStyles];\n});\n\n_c = SearchedProducts;\nexport default SearchedProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchedProducts\");","map":{"version":3,"sources":["E:/Study Material/Projects/Fullstack/e-commerce/client/src/pages/SearchedProducts.js"],"names":["React","useEffect","useState","useLocation","Navigation","axios","addedTocart","makeStyles","Grid","Button","Card","CardActionArea","CardActions","CardContent","CardMedia","Typography","useDispatch","Link","useQuery","URLSearchParams","search","useStyles","theme","root","flexGrow","width","marginTop","margin","productTitle","display","justifyContent","card","boxShadow","SearchedProducts","props","products","setProducts","dispatch","query","get","fetchFunction","url","res","then","data","result","catch","err","console","log","classes","handleCart","e","element","target","classList","contains","parentElement","id","getAttribute","productToCart","filter","single","_id","map","singleProduct","slug","textDecoration","name","image","descriptions","price"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useLocation } from 'react-router';\r\nimport Navigation from '../components/Navigation'\r\nimport axios from 'axios'\r\nimport { addedTocart } from '../features/cartSlice';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Button, Card, CardActionArea, CardActions, CardContent, CardMedia, Typography } from '@material-ui/core'\r\nimport { useDispatch } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\nconst useStyles = makeStyles((theme) => ({\r\nroot: {\r\n    flexGrow: 1,\r\n    width: '90%',\r\n    marginTop: '20px',\r\n    margin: '0 auto'\r\n},\r\nproductTitle: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    justifyContent: 'space-between'\r\n},\r\ncard: {\r\n    boxShadow: 'none'\r\n}\r\n}));\r\n\r\nfunction SearchedProducts(props) {\r\n    const [products,setProducts] = useState([])\r\n    const dispatch = useDispatch()\r\n\r\n    const query = useQuery();\r\n    const search = query.get('query')\r\n    const fetchFunction = async (url) => {\r\n        const res = await axios.get(url).then(res => {\r\n            return res.data.result\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n        setProducts(res)\r\n    }\r\n    useEffect(() => {\r\n        fetchFunction(`/products/search?query=${search}`)\r\n    },[search])\r\n    const classes = useStyles();\r\n    const handleCart = (e) => {\r\n        let element = ''\r\n        if(e.target.classList.contains('MuiButton-label')){\r\n            element = e.target.parentElement.parentElement\r\n        } else {\r\n            element = e.target.parentElement\r\n        }\r\n        const id = element.getAttribute('id')\r\n        const productToCart = products.filter( single => single._id === id)[0]\r\n        dispatch(addedTocart(productToCart))\r\n    }\r\n    return (\r\n        <>\r\n           <Navigation />\r\n            <div className={classes.root}>\r\n                <Typography variant=\"h5\" noWrap gutterBottom={true}>Products for {search}</Typography>\r\n                <Grid container spacing={3}>\r\n                    {\r\n                        products && products.map(singleProduct => {\r\n                            return <Grid item lg={3} md={4}  xs={6} key={singleProduct._id}>\r\n                            \r\n                                <Card className={classes.card}>\r\n                                    <Link to = {`/products/${singleProduct.slug}`} style={{textDecoration: 'none'}}>\r\n                                    <CardActionArea>\r\n                                        <CardMedia\r\n                                        component=\"img\"\r\n                                        alt={singleProduct.name}\r\n                                        height=\"50%\"\r\n                                        image={singleProduct.image}\r\n                                        title={singleProduct.name}\r\n                                        />\r\n                                        <CardContent>\r\n                                        <Typography gutterBottom variant=\"h5\" component=\"h2\">{singleProduct.name}</Typography>\r\n                                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                                            {singleProduct.descriptions}\r\n                                        </Typography>\r\n                                        </CardContent>\r\n                                    </CardActionArea>\r\n                                    </Link>\r\n                                    <CardActions>\r\n                                    <div className={classes.productTitle} id={singleProduct._id}>\r\n                                        <Typography gutterBottom variant=\"h6\" component=\"span\">\r\n                                            Rs. {singleProduct.price}\r\n                                        </Typography>\r\n                                        <Button size=\"small\" color=\"primary\" onClick = {handleCart}>\r\n                                        Add to Cart\r\n                                        </Button>\r\n                                    </div>\r\n                                    </CardActions>\r\n                                </Card>\r\n                        </Grid>\r\n                        })\r\n                    }\r\n                </Grid>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default SearchedProducts\r\n"]},"metadata":{},"sourceType":"module"}